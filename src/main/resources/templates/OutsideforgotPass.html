<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:fragment="pageHeader(title)">
    <meta charset="UTF-8">
    <title>Forgot Password</title>
         <link rel="stylesheet" href="assets/css/forgotPass.css" />
          <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />
         
         
         <style type="text/css">
         
         	h2{
         		margin-top: 0;
         	}
         	
         	
         	body{
         		overflow: auto;
         	}
         	
         	form{
         		height: 60vh;
         	}
         </style>
    </head>
    <body>
      
    <div class="container" th:fragment="forgotPasswordForm">
    <div class="settings-card">
        <h2>Forgot Password</h2>
        <form th:action="@{/forgot-password}" method="post" id="forgotPasswordForm">
            <div class="form-section">
                <!-- Left Column: Username, OTP, OTP Text, Send OTP Button -->
                <div class="form-column">
                    <!-- Username / Email -->
                    <div class="input-group" style="margin-bottom: 20px;">
                        <div class="input-wrapper">
                            <input type="text" id="username" name="username"
                                   placeholder="Enter your email" required>
                            <i class="fas fa-user input-icon"></i>
                            <i class="fas fa-check input-success-icon"></i>
                            <div class="error-message" id="username-error">
                                <i class="fas fa-exclamation-circle message-icon"></i>
                                <span>Please enter your email</span>
                            </div>
                        </div>
                    </div>

                    <!-- OTP Input -->
                    <div class="input-group" style="margin-bottom: 8px;">
                        <div class="input-wrapper">
                            <input type="number" id="otp" name="otp"
                                   placeholder="Enter OTP received in email" required>
                            <i class="fas fa-key input-icon"></i>
                            <div class="error-message" id="otp-error">
                                <i class="fas fa-exclamation-circle message-icon"></i>
                                <span>Invalid or missing OTP</span>
                            </div>
                        </div>
                    </div>

                    <!-- OTP Info Text -->
                     <div style="font-size: 14px; margin: 0px 0 8px 2px; color: #555;">
                        OTP sent to your registered email <strong class="otp-info"></strong>
                    </div>

                    <!-- Send OTP Button -->
                    <div class="input-group">
                        <div class="input-wrapper">
                            <button type="button" style="width: fit-content;" class="send-otp-btn" id="sendOtpBtn">
                                <i class="fas fa-paper-plane"></i>
                                Send OTP
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Right Column: New Password + Confirm Password -->
                <div class="form-column">
                    <!-- New Password -->
                    <div class="input-group" style="margin-bottom: 10px;">
                        <div class="input-wrapper">
                            <input type="password" id="newPassword" name="newPassword"
                                   placeholder="Enter new password" required>
                            <i class="fas fa-lock input-icon"></i>
                            <i class="fas fa-check input-success-icon"></i>
                            <div class="password-strength">
                                <div class="strength-meter" id="strength-meter"></div>
                            </div>
                            <div class="error-message" id="newPassword-error">
                                <i class="fas fa-exclamation-circle message-icon"></i>
                                <span>Password must be at least 8 characters</span>
                            </div>
                        </div>
                    </div>

                    <!-- Confirm Password -->
                    <div class="input-group">
                        <div class="input-wrapper">
                            <input type="password" id="confirmPassword" name="confirmPassword"
                                   placeholder="Confirm new password" required>
                            <i class="fas fa-lock input-icon"></i>
                            <i class="fas fa-check input-success-icon"></i>
                            <div class="error-message" id="confirmPassword-error">
                                <i class="fas fa-exclamation-circle message-icon"></i>
                                <span>Passwords do not match</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Action Buttons -->
            <div class="actions-row">
                <a href="/login" class="forgot-password">
                    <i class="fas fa-arrow-left"></i>
                    Back to Login
                </a>
                <button type="submit" class="submit-btn">
                    <i class="fas fa-save"></i>
                    Update Password
                </button>
            </div>
        </form>
    </div>
</div>
    
    
    <!-- SweetAlert2 -->
	<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>    
    
    <!--   Core JS Files   -->
    <script src="js/forgotPassword.js"></script>
  </body>
    </html>
 